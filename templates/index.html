{% extends "base.html" %}
{% block content %}

<div class="row g-4">
  <div class="col-lg-6">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Создать лобби</h5>
        <form method="post" action="/lobby/create" class="vstack gap-2">
          <input class="form-control" name="name" placeholder="Ваш ник" maxlength="32" required>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="private" name="private">
            <label class="form-check-label" for="private">Приватное (по коду)</label>
          </div>
          <button class="btn btn-primary">Создать</button>
        </form>
      </div>
    </div>

    <div class="card shadow-sm mt-4">
      <div class="card-body">
        <h5 class="card-title">Войти по коду (приват)</h5>
        <form method="post" action="/lobby/join" class="vstack gap-2">
          <input class="form-control" name="name" placeholder="Ваш ник" maxlength="32" required>
          <input class="form-control" name="code" placeholder="Код лобби" maxlength="12" required>
          <button class="btn btn-outline-primary">Войти</button>
        </form>
      </div>
    </div>
  </div>

  <div class="col-lg-6">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Открытые лобби</h5>
        {% if lobbies %}
          <div class="list-group">
            {% for l in lobbies %}
              <a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
                 href="{{ url_for('lobby_page', lobby_id=l.id, name='Guest') }}">
                <div>
                  <div class="fw-semibold">{{ l.host_name }}</div>
                  <div class="text-muted small">Лобби #{{ l.id }}</div>
                </div>
                <span class="badge bg-success">open</span>
              </a>
            {% endfor %}
          </div>
          <div class="text-muted small mt-2">
            * При переходе с “Guest” лучше ввести ник на странице лобби (можно улучшить).
          </div>
        {% else %}
          <div class="text-muted">Нет открытых лобби. Создай первое!</div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% endblock %}
